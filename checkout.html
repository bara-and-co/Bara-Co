<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkout | Bara & Co</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family: 'Helvetica Neue', sans-serif;}

body{
  background:#0f0f0f;
  color:#f5f5f5;
}

.checkout{
  display:flex;
  max-width:1200px;
  margin:60px auto;
  gap:60px;
  padding:0 20px;
}

.left{flex:65%;}
.right{
  flex:35%;
  position:sticky;
  top:40px;
  height:fit-content;
  background:#1a1a1a;
  padding:30px;
  border-radius:12px;
}

h2{
  font-size:20px;
  margin:25px 0 15px;
  font-weight:300;
  letter-spacing:1px;
}

input{
  width:100%;
  padding:14px;
  margin-bottom:15px;
  background:#1a1a1a;
  border:1px solid #333;
  color:white;
  border-radius:8px;
  transition:.3s;
}

input:focus{
  border:1px solid #c6a14a;
  outline:none;
}

.btn{
  width:100%;
  padding:16px;
  background:black;
  border:1px solid #c6a14a;
  color:white;
  cursor:pointer;
  border-radius:8px;
  margin-top:20px;
  transition:.3s;
}

.btn:hover{
  background:#c6a14a;
  color:black;
}

.summary-item{
  display:flex;
  justify-content:space-between;
  margin-bottom:10px;
  font-size:14px;
}

.total{
  margin-top:20px;
  font-size:20px;
  font-weight:bold;
  display:flex;
  justify-content:space-between;
}

.security{
  font-size:12px;
  color:#aaa;
  margin-top:15px;
}

@media(max-width:900px){
  .checkout{flex-direction:column;}
  .right{position:relative;top:0;}
}
</style>
</head>

<body>

<div class="checkout">

<div class="left">

<h2>Contacto</h2>
<input type="email" id="email" placeholder="Email">

<h2>Env칤o</h2>
<input type="text" placeholder="Nombre completo">
<input type="text" placeholder="Direcci칩n">
<input type="text" placeholder="Ciudad">
<input type="text" placeholder="C칩digo postal">

<button class="btn" onclick="finalizarCompra()">Finalizar Compra</button>

<div class="security">
Pago 100% seguro y cifrado.
</div>

</div>

<div class="right">

<h2>Tu Pedido</h2>

<div id="productos"></div>

<div class="total">
<span>Total</span>
<span id="total">$0</span>
</div>

</div>

</div>

<script>

const CART_KEY = "bc_cart";

function getCart(){
  return JSON.parse(localStorage.getItem(CART_KEY)) || [];
}

function renderResumen(){

  const cart = getCart();
  const container = document.getElementById("productos");
  const totalEl = document.getElementById("total");

  container.innerHTML = "";
  let total = 0;

  cart.forEach(item=>{
    const subtotal = item.precio * item.qty;
    total += subtotal;

    container.innerHTML += `
      <div class="summary-item">
        <span>${item.nombre} x${item.qty}</span>
        <span>$${subtotal.toLocaleString("es-AR")}</span>
      </div>
    `;
  });

  totalEl.textContent = "$" + total.toLocaleString("es-AR");
}

function finalizarCompra(){

  const email = document.getElementById("email").value;

  if(!email.includes("@")){
    alert("Ingres치 un email v치lido.");
    return;
  }

  alert("Compra simulada correctamente 游둯");
  localStorage.removeItem(CART_KEY);
  window.location.href = "index.html";
}

document.addEventListener("DOMContentLoaded",renderResumen);

</script>

</body>
</html>
