<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tienda ¬∑ Bara & Co</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>

  <style>
    :root {
      --bg:      #0e0e0c;
      --surface: #161614;
      --border:  rgba(255,255,255,.07);
      --text:    #f0ece4;
      --muted:   #7a7872;
      --accent:  #c9a96e;
      --adk:     #9e7a3e;
      --red:     #b83030;
      --white:   #fff;
      --serif:   'Playfair Display', serif;
      --sans:    'Inter', sans-serif;
      --ease:    cubic-bezier(.16,1,.3,1);
    }
    *, *::before, *::after { box-sizing:border-box; margin:0; padding:0; }
    html { scroll-behavior:smooth; }
    body { background:var(--bg); color:var(--text); font-family:var(--sans); font-size:15px; line-height:1.6; -webkit-font-smoothing:antialiased; }
    a    { color:inherit; text-decoration:none; }
    img  { display:block; width:100%; object-fit:cover; }
    ul   { list-style:none; }

    /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
    #header {
      position:fixed; top:0; left:0; right:0; z-index:200;
      display:flex; align-items:center; justify-content:space-between;
      padding:0 48px; height:72px;
      background:rgba(14,14,12,.93); backdrop-filter:blur(20px);
      border-bottom:1px solid var(--border);
      transition:background .3s;
    }
    .logo-img { height:56px; width:auto; object-fit:contain; display:block; }

    .header-nav ul { display:flex; gap:36px; }
    .header-nav a {
      font-size:11px; font-weight:500; letter-spacing:.12em; text-transform:uppercase;
      color:var(--muted); position:relative; transition:color .25s;
    }
    .header-nav a::after {
      content:''; position:absolute; bottom:-4px; left:0; right:0;
      height:1px; background:var(--accent);
      transform:scaleX(0); transform-origin:left; transition:transform .3s var(--ease);
    }
    .header-nav a:hover, .header-nav a.active { color:var(--text); }
    .header-nav a:hover::after, .header-nav a.active::after { transform:scaleX(1); }

    .header-icons { display:flex; align-items:center; gap:20px; }
    .header-icons i { font-size:16px; cursor:pointer; color:var(--muted); transition:color .25s; }
    .header-icons i:hover { color:var(--accent); }
    .cart-icon-wrap { position:relative; cursor:pointer; }
    .cart-badge {
      position:absolute; top:-7px; right:-9px;
      background:var(--accent); color:var(--bg);
      font-size:9px; font-weight:700; width:17px; height:17px;
      border-radius:50%; display:none; place-items:center;
    }
    .cart-badge.on { display:grid; }

    /* ‚îÄ‚îÄ HAMBURGUER MOBILE ‚îÄ‚îÄ */
    .hamburger { display:none; flex-direction:column; gap:5px; cursor:pointer; padding:4px; background:none; border:none; }
    .hamburger span { display:block; width:22px; height:1.5px; background:var(--muted); transition:all .3s; }
    .hamburger.open span:nth-child(1) { transform:translateY(6.5px) rotate(45deg); }
    .hamburger.open span:nth-child(2) { opacity:0; }
    .hamburger.open span:nth-child(3) { transform:translateY(-6.5px) rotate(-45deg); }
    .mobile-nav {
      display:none; position:fixed; top:72px; left:0; right:0; z-index:199;
      background:rgba(14,14,12,.98); backdrop-filter:blur(20px);
      border-bottom:1px solid var(--border);
      padding:24px 22px; flex-direction:column; gap:4px;
    }
    .mobile-nav.open { display:flex; }
    .mobile-nav a {
      padding:13px 0; font-size:13px; font-weight:500; color:var(--muted);
      border-bottom:1px solid var(--border); display:block; transition:color .2s;
    }
    .mobile-nav a:last-child { border-bottom:none; }
    .mobile-nav a:hover, .mobile-nav a.active { color:var(--accent); }

    /* ‚îÄ‚îÄ SEARCH BAR ‚îÄ‚îÄ */
    .search-bar {
      display:flex; align-items:center; gap:12px;
      padding:14px 48px; border-bottom:1px solid var(--border);
      background:rgba(14,14,12,.6);
      max-height:0; overflow:hidden; opacity:0;
      transition:max-height .35s var(--ease), opacity .3s, padding .3s;
      padding-top:0; padding-bottom:0;
    }
    .search-bar.open { max-height:60px; opacity:1; padding-top:14px; padding-bottom:14px; }
    .search-bar i { color:var(--muted); font-size:14px; flex-shrink:0; }
    .search-input {
      flex:1; background:none; border:none; outline:none;
      color:var(--text); font-family:var(--sans); font-size:14px;
    }
    .search-input::placeholder { color:var(--muted); }
    .search-clear { background:none; border:none; color:var(--muted); cursor:pointer; font-size:16px; padding:2px; transition:color .2s; }
    .search-clear:hover { color:var(--text); }
    @media (max-width:900px) {
      .hamburger { display:flex; }
      .search-bar { padding-left:22px; padding-right:22px; }
    }

    /* ‚îÄ‚îÄ SHIPPING BAR ‚îÄ‚îÄ */
    .shipping-bar {
      margin-top:72px;
      background:var(--accent); color:var(--bg);
      text-align:center; font-size:11px; font-weight:600;
      letter-spacing:.14em; text-transform:uppercase; padding:10px 16px;
    }

    /* ‚îÄ‚îÄ SHOP HERO ‚îÄ‚îÄ */
    .shop-hero {
      height:220px; display:flex; flex-direction:column;
      align-items:center; justify-content:center; text-align:center;
      border-bottom:1px solid var(--border); position:relative; overflow:hidden;
    }
    .shop-hero::before {
      content:''; position:absolute; inset:0;
      background:radial-gradient(ellipse at center, rgba(201,169,110,.07) 0%, transparent 65%);
    }
    .shop-eyebrow { font-size:9px; letter-spacing:.35em; text-transform:uppercase; color:var(--accent); margin-bottom:10px; }
    .shop-title   { font-family:var(--serif); font-size:clamp(32px,5vw,58px); font-weight:400; line-height:1; }
    .shop-sub     { margin-top:8px; font-size:12px; color:var(--muted); letter-spacing:.04em; }

    /* ‚îÄ‚îÄ FILTROS ‚îÄ‚îÄ */
    .filters {
      display:flex; align-items:center; justify-content:space-between;
      padding:24px 48px; border-bottom:1px solid var(--border);
      gap:14px; flex-wrap:wrap; position:sticky; top:72px; z-index:100;
      background:rgba(14,14,12,.95); backdrop-filter:blur(12px);
    }
    .filter-tabs { display:flex; gap:6px; flex-wrap:wrap; }
    .filter-tab {
      padding:8px 18px; border:1px solid var(--border); background:none;
      color:var(--muted); font-family:var(--sans); font-size:10px;
      font-weight:500; letter-spacing:.1em; text-transform:uppercase;
      cursor:pointer; transition:all .22s;
    }
    .filter-tab:hover { border-color:var(--accent); color:var(--accent); }
    .filter-tab.active { background:var(--accent); border-color:var(--accent); color:var(--bg); }
    .prod-count { font-size:11px; color:var(--muted); white-space:nowrap; }

    /* ‚îÄ‚îÄ CATEGORY HEADINGS dentro del grid ‚îÄ‚îÄ */
    .cat-heading {
      grid-column:1/-1;
      padding:40px 0 8px;
      display:flex; align-items:center; gap:16px;
    }
    .cat-heading h2 { font-family:var(--serif); font-size:clamp(22px,3vw,34px); font-weight:400; }
    .cat-heading::after { content:''; flex:1; height:1px; background:var(--border); }
    .cat-heading.hidden { display:none; }

    /* ‚îÄ‚îÄ GRID ‚îÄ‚îÄ */
    .shop-body { padding:8px 48px 80px; }
    .prod-grid {
      display:grid; grid-template-columns:repeat(4,1fr); gap:2px;
    }

    /* ‚îÄ‚îÄ CARD ‚îÄ‚îÄ */
    .prod-card {
      position:relative; overflow:hidden; background:var(--surface); cursor:pointer;
      opacity:0; transform:translateY(20px); animation:fadeUp .55s var(--ease) forwards;
    }
    .prod-card.hidden { display:none; }

    /* stagger */
    .prod-card:nth-child(1)  { animation-delay:.04s }
    .prod-card:nth-child(2)  { animation-delay:.08s }
    .prod-card:nth-child(3)  { animation-delay:.12s }
    .prod-card:nth-child(4)  { animation-delay:.16s }
    .prod-card:nth-child(5)  { animation-delay:.20s }
    .prod-card:nth-child(6)  { animation-delay:.24s }
    .prod-card:nth-child(7)  { animation-delay:.28s }
    .prod-card:nth-child(8)  { animation-delay:.32s }
    .prod-card:nth-child(9)  { animation-delay:.36s }
    .prod-card:nth-child(10) { animation-delay:.40s }
    .prod-card:nth-child(n+11) { animation-delay:.44s }

    .prod-img { aspect-ratio:3/4; overflow:hidden; position:relative; }
    .prod-img img { height:100%; transition:transform .7s var(--ease); }
    .prod-card:hover .prod-img img { transform:scale(1.06); }

    .badge {
      position:absolute; top:12px; left:12px; z-index:2;
      font-size:8px; font-weight:700; letter-spacing:.12em; text-transform:uppercase; padding:4px 9px;
    }
    .badge-new  { background:var(--accent); color:var(--bg); }
    .badge-sale { background:var(--red);    color:var(--white); }

    .prod-overlay {
      position:absolute; inset:0; background:rgba(14,14,12,.5);
      display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px;
      padding:20px; opacity:0; transition:opacity .28s;
    }
    .prod-card:hover .prod-overlay { opacity:1; }

    /* En m√≥vil los botones siempre visibles abajo de la card */
    @media (hover:none) {
      .prod-overlay { display:none !important; }
      .prod-card-actions {
        display:flex !important; gap:6px; padding:8px 10px 12px;
      }
    }
    .prod-card-actions { display:none; }
    .prod-card-actions .ov-btn { flex:1; }

    .ov-btn {
      width:100%; padding:11px; border:none; cursor:pointer;
      font-family:var(--sans); font-size:9px; font-weight:700;
      letter-spacing:.18em; text-transform:uppercase;
      display:flex; align-items:center; justify-content:center; gap:7px;
      transform:translateY(10px); transition:transform .3s var(--ease), background .2s, color .2s;
    }
    .prod-card:hover .ov-btn { transform:translateY(0); }
    .ov-btn:nth-child(2) { transition-delay:.04s; }
    .ov-add  { background:var(--white); color:var(--bg); }
    .ov-add:hover { background:var(--accent); }
    .ov-view { background:transparent; border:1px solid rgba(255,255,255,.35); color:var(--white); }
    .ov-view:hover { background:rgba(255,255,255,.1); border-color:var(--white); }

    .prod-info { padding:14px 16px 20px; }
    .prod-cat  { font-size:8px; letter-spacing:.18em; text-transform:uppercase; color:var(--muted); margin-bottom:4px; }
    .prod-name { font-family:var(--serif); font-size:15px; font-weight:400; line-height:1.2; margin-bottom:5px; }
    .prod-price { font-size:13px; color:var(--accent); }
    .prod-price del { color:var(--muted); margin-right:5px; font-size:11px; }

    .empty-msg  { grid-column:1/-1; text-align:center; padding:80px 0; color:var(--muted); display:none; }
    .empty-msg i { font-size:36px; opacity:.25; margin-bottom:14px; display:block; }

    /* ‚îÄ‚îÄ CART NOTIFICATION ‚îÄ‚îÄ */
    .cart-toast {
      position:fixed; bottom:28px; left:50%; transform:translateX(-50%) translateY(60px);
      background:var(--surface); border:1px solid var(--accent); color:var(--text);
      padding:12px 22px; font-size:13px; display:flex; align-items:center; gap:9px;
      z-index:600; opacity:0; white-space:nowrap; pointer-events:none;
      transition:transform .4s var(--ease), opacity .3s;
    }
    .cart-toast.show { transform:translateX(-50%) translateY(0); opacity:1; }
    .cart-toast i { color:var(--accent); }

    /* ‚îÄ‚îÄ CART DRAWER ‚îÄ‚îÄ */
    .cart-backdrop {
      position:fixed; inset:0; background:rgba(0,0,0,.55);
      z-index:398; opacity:0; pointer-events:none; transition:opacity .3s;
    }
    .cart-backdrop.open { opacity:1; pointer-events:all; }

    .cart-drawer {
      position:fixed; top:0; right:0; bottom:0; width:min(400px,100vw);
      background:var(--surface); border-left:1px solid var(--border);
      z-index:399; display:flex; flex-direction:column;
      transform:translateX(101%); transition:transform .4s var(--ease);
    }
    .cart-drawer.open { transform:translateX(0); }

    .cd-head {
      padding:20px 22px; border-bottom:1px solid var(--border);
      display:flex; align-items:center; justify-content:space-between;
    }
    .cd-title { font-family:var(--serif); font-size:22px; font-weight:400; }
    .cd-close {
      background:none; border:1px solid var(--border); color:var(--text); cursor:pointer;
      width:32px; height:32px; border-radius:50%; display:grid; place-items:center;
      font-size:18px; transition:border-color .22s;
    }
    .cd-close:hover { border-color:var(--accent); }
    .cd-body { flex:1; overflow-y:auto; padding:16px 22px; }
    .cd-empty { text-align:center; padding:56px 0; color:var(--muted); font-size:13px; }
    .cd-item {
      display:flex; gap:12px; padding:12px 0; border-bottom:1px solid var(--border);
    }
    .cd-item-img { width:66px; height:80px; object-fit:cover; flex-shrink:0; }
    .cd-item-name  { font-family:var(--serif); font-size:15px; }
    .cd-item-size  { font-size:11px; color:var(--muted); margin-top:2px; }
    .cd-item-price { font-size:12px; color:var(--accent); margin-top:4px; }
    .cd-item-rm {
      background:none; border:none; color:var(--muted); font-size:17px;
      cursor:pointer; margin-left:auto; align-self:flex-start; transition:color .2s;
    }
    .cd-item-rm:hover { color:var(--red); }
    .cd-foot { padding:16px 22px; border-top:1px solid var(--border); }
    .cd-subtotal { display:flex; justify-content:space-between; margin-bottom:14px; font-size:13px; }
    .cd-subtotal span:last-child { font-family:var(--serif); font-size:19px; color:var(--accent); }
    .pay-btn {
      width:100%; padding:14px; border:none; cursor:pointer;
      font-family:var(--sans); font-size:10px; font-weight:700;
      letter-spacing:.18em; text-transform:uppercase;
      display:flex; align-items:center; justify-content:center; gap:8px;
      margin-bottom:9px; transition:background .22s;
    }
    .pay-mp { background:var(--accent); color:var(--bg); }
    .pay-mp:hover { background:var(--adk); }
    .pay-wa { background:#25d366; color:#fff; }
    .pay-wa:hover { background:#1dbd5c; }
    .pay-info { text-align:center; font-size:10px; color:var(--muted); margin-top:4px; }

    /* ‚îÄ‚îÄ WA FLOAT ‚îÄ‚îÄ */
    .wa-float {
      position:fixed; bottom:26px; right:26px; z-index:300;
      width:50px; height:50px; border-radius:50%; background:#25d366; border:none;
      cursor:pointer; display:grid; place-items:center;
      box-shadow:0 4px 18px rgba(37,211,102,.35); transition:transform .3s var(--ease), box-shadow .3s;
    }
    .wa-float:hover { transform:scale(1.1); box-shadow:0 6px 26px rgba(37,211,102,.5); }
    .wa-float i { font-size:22px; color:#fff; }

    /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
    footer {
      padding:60px 48px 36px; border-top:1px solid var(--border);
      display:grid; grid-template-columns:1.4fr 1fr 1fr 1.2fr; gap:44px;
    }
    .foot-logo { height:52px; width:auto; object-fit:contain; filter:brightness(0) invert(1); }
    .foot-tag  { margin-top:10px; font-size:13px; color:var(--muted); line-height:1.7; max-width:200px; }
    .foot-social { display:flex; gap:14px; margin-top:16px; }
    .foot-social i { font-size:16px; cursor:pointer; color:var(--muted); transition:color .22s; }
    .foot-social i:hover { color:var(--accent); }
    .foot-col h4 { font-size:9px; letter-spacing:.2em; text-transform:uppercase; color:var(--muted); margin-bottom:16px; }
    .foot-col li+li { margin-top:8px; }
    .foot-col a { font-size:13px; color:rgba(240,236,228,.5); transition:color .22s; }
    .foot-col a:hover { color:var(--accent); }
    .nl-form { display:flex; margin-top:4px; }
    .nl-form input {
      flex:1; background:rgba(255,255,255,.04); border:1px solid var(--border); border-right:none;
      color:var(--text); padding:9px 12px; font-size:12px; font-family:var(--sans);
      outline:none; transition:border-color .22s;
    }
    .nl-form input::placeholder { color:var(--muted); }
    .nl-form input:focus { border-color:var(--accent); }
    .nl-form button {
      background:var(--accent); border:none; cursor:pointer;
      padding:9px 14px; color:var(--bg); transition:background .22s;
    }
    .nl-form button:hover { background:var(--adk); }
    .pay-icons { display:flex; flex-wrap:wrap; gap:7px; margin-top:14px; }
    .pay-icons img { height:20px; width:auto; opacity:.5; filter:grayscale(1) brightness(2); transition:opacity .2s; }
    .pay-icons img:hover { opacity:1; }
    .foot-bot {
      padding:18px 48px; border-top:1px solid var(--border);
      display:flex; align-items:center; justify-content:space-between;
      font-size:11px; color:var(--muted); flex-wrap:wrap; gap:8px;
    }
    .foot-bot a { color:var(--muted); transition:color .2s; }
    .foot-bot a:hover { color:var(--text); }
    .foot-links { display:flex; gap:18px; }

    /* ‚îÄ‚îÄ GU√çA DE TALLES MODAL ‚îÄ‚îÄ */
    .qv-backdrop {
      position:fixed; inset:0; background:rgba(0,0,0,.72);
      z-index:501; opacity:0; pointer-events:none; transition:opacity .3s;
    }
    .qv-backdrop.open { opacity:1; pointer-events:all; }
    .sg-modal {
      position:fixed; top:50%; left:50%; z-index:502;
      width:min(580px,96vw); max-height:90vh; overflow-y:auto;
      background:var(--surface); border:1px solid var(--border);
      transform:translate(-50%,-52%) scale(.97);
      opacity:0; pointer-events:none;
      transition:transform .35s var(--ease), opacity .3s;
      padding:32px 28px;
    }
    .sg-modal.open { transform:translate(-50%,-50%) scale(1); opacity:1; pointer-events:all; }
    .sg-modal h2 { font-family:var(--serif); font-size:24px; font-weight:400; margin-bottom:20px; }
    .sg-table { width:100%; border-collapse:collapse; font-size:13px; margin-bottom:20px; }
    .sg-table th { background:rgba(255,255,255,.05); padding:10px 14px; text-align:left; font-size:10px; letter-spacing:.1em; text-transform:uppercase; color:var(--muted); border-bottom:1px solid var(--border); }
    .sg-table td { padding:10px 14px; border-bottom:1px solid var(--border); }
    .sg-close { position:absolute; top:14px; right:16px; background:none; border:1px solid var(--border); color:var(--text); cursor:pointer; width:30px; height:30px; border-radius:50%; display:grid; place-items:center; font-size:16px; transition:border-color .2s; }
    .sg-close:hover { border-color:var(--accent); }

    /* ‚îÄ‚îÄ RESE√ëAS ‚îÄ‚îÄ */
    .reviews-bar {
      background:var(--surface); border-top:1px solid var(--border); border-bottom:1px solid var(--border);
      padding:28px 48px; display:flex; gap:40px; align-items:center; overflow-x:auto;
    }
    .review-score { display:flex; flex-direction:column; align-items:center; gap:4px; flex-shrink:0; border-right:1px solid var(--border); padding-right:40px; }
    .review-score .score-num { font-family:var(--serif); font-size:48px; font-weight:400; color:var(--accent); line-height:1; }
    .review-score .score-stars { color:var(--accent); font-size:16px; letter-spacing:2px; }
    .review-score .score-count { font-size:11px; color:var(--muted); }
    .review-cards { display:flex; gap:20px; }
    .review-card { background:rgba(255,255,255,.03); border:1px solid var(--border); padding:18px 20px; min-width:220px; max-width:260px; flex-shrink:0; }
    .review-card-stars { color:var(--accent); font-size:11px; margin-bottom:8px; }
    .review-card-text { font-size:13px; line-height:1.6; color:var(--text); margin-bottom:10px; font-style:italic; }
    .review-card-author { font-size:11px; color:var(--muted); }

    /* ‚îÄ‚îÄ TRUST BADGES (debajo de filtros) ‚îÄ‚îÄ */
    .trust-strip {
      display:flex; gap:0; border-bottom:1px solid var(--border);
    }
    .trust-item {
      flex:1; display:flex; align-items:center; justify-content:center; gap:9px;
      padding:14px 10px; font-size:11px; color:var(--muted); border-right:1px solid var(--border);
    }
    .trust-item:last-child { border-right:none; }
    .trust-item i { color:var(--accent); font-size:14px; flex-shrink:0; }
    @media(max-width:600px){ .trust-item span { display:none; } .trust-item { padding:12px; } }

    /* ‚îÄ‚îÄ SIZE GUIDE BAR ‚îÄ‚îÄ */
    .size-guide-bar {
      display:flex; align-items:center; justify-content:flex-end;
      padding:10px 48px; border-bottom:1px solid var(--border);
      font-size:11px; color:var(--muted); gap:6px;
    }
    .size-guide-bar a { color:var(--accent); text-decoration:underline; text-underline-offset:3px; cursor:pointer; }
    .size-guide-bar a:hover { color:var(--adk); }

    /* ‚îÄ‚îÄ KEYFRAMES ‚îÄ‚îÄ */
    @keyframes fadeUp {
      from { opacity:0; transform:translateY(20px); }
      to   { opacity:1; transform:none; }
    }

    /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
    @media (max-width:1100px) { .prod-grid { grid-template-columns:repeat(3,1fr); } }
    @media (max-width:900px) {
      #header { padding:0 22px; }
      .header-nav ul { display:none; }
      .filters { padding:18px 22px; top:72px; }
      .shop-body { padding:8px 22px 60px; }
      .prod-grid { grid-template-columns:repeat(2,1fr); }
      footer { grid-template-columns:1fr 1fr; padding:40px 22px 26px; }
      .foot-bot { padding:16px 22px; flex-direction:column; text-align:center; }
    }
    @media (max-width:480px) {
      .prod-grid { grid-template-columns:1fr; }
      footer { grid-template-columns:1fr; gap:26px; }
      .filter-tabs { gap:4px; }
      .filter-tab { padding:7px 13px; font-size:9px; }
    }
  </style>
</head>
<body>

<!-- ‚ïê‚ïê HEADER ‚ïê‚ïê -->
<header id="header">
  <a href="index.html"><img src="images/logo.png" alt="Bara & Co" class="logo-img"/></a>
  <nav class="header-nav">
    <ul>
      <li><a href="index.html">Inicio</a></li>
      <li><a href="tienda.html" class="active">Tienda</a></li>
      <li><a href="lookbook.html">Lookbook</a></li>
      <li><a href="contacto.html">Contacto</a></li>
    </ul>
  </nav>
  <div class="header-icons">
    <i class="fas fa-search" onclick="toggleSearch()" title="Buscar"></i>
    <div class="cart-icon-wrap" onclick="toggleCart()">
      <i class="fas fa-shopping-bag"></i>
      <span class="cart-badge" id="cartBadge">0</span>
    </div>
    <button class="hamburger" id="hamburger" onclick="toggleMenu()" aria-label="Men√∫">
      <span></span><span></span><span></span>
    </button>
  </div>
</header>

<!-- ‚ïê‚ïê MOBILE NAV ‚ïê‚ïê -->
<nav class="mobile-nav" id="mobileNav">
  <a href="index.html">Inicio</a>
  <a href="tienda.html" class="active">Tienda</a>
  <a href="lookbook.html">Lookbook</a>
  <a href="contacto.html">Contacto</a>
</nav>

<!-- ‚ïê‚ïê SEARCH BAR ‚ïê‚ïê -->
<div class="search-bar" id="searchBar">
  <i class="fas fa-search"></i>
  <input type="text" class="search-input" id="searchInput" placeholder="Buscar productos..."/>
  <button class="search-clear" onclick="clearSearch()">√ó</button>
</div>

<!-- ‚ïê‚ïê SHIPPING BAR ‚ïê‚ïê -->
<div class="shipping-bar">üöö &nbsp; Env√≠os a todo el pa√≠s &nbsp;¬∑&nbsp; Retiro en local ¬∑ Ing. Olmos 139, Jes√∫s Mar√≠a &nbsp;¬∑&nbsp; Compra segura</div>

<!-- ‚ïê‚ïê HERO TIENDA ‚ïê‚ïê -->
<div class="shop-hero">
  <p class="shop-eyebrow">New Collection 2026</p>
  <h1 class="shop-title">Nuestra Tienda</h1>
  <p class="shop-sub">Indumentaria urbana con personalidad</p>
</div>

<!-- ‚ïê‚ïê FILTROS ‚ïê‚ïê -->
<div class="filters">
  <div class="filter-tabs">
    <button class="filter-tab active" data-f="all">Todos</button>
    <button class="filter-tab" data-f="new">New Collection</button>
    <button class="filter-tab" data-f="hombre">Hombre</button>
    <button class="filter-tab" data-f="mujer">Mujer</button>
    <button class="filter-tab" data-f="accesorios">Accesorios</button>
    <button class="filter-tab" data-f="sale">Sale</button>
  </div>
  <span class="prod-count" id="prodCount">Cargando...</span>
</div>

<!-- ‚ïê‚ïê SIZE GUIDE BAR ‚ïê‚ïê -->
<div class="size-guide-bar">
  <i class="fas fa-ruler-horizontal" style="font-size:12px;color:var(--accent)"></i>
  ¬øNo sab√©s tu talle? &nbsp;<a onclick="openSizeGuide()">Ver gu√≠a de talles</a>
</div>

<!-- ‚ïê‚ïê TRUST STRIP ‚ïê‚ïê -->
<div class="trust-strip">
  <div class="trust-item"><i class="fas fa-truck"></i><span>Env√≠os a todo el pa√≠s</span></div>
  <div class="trust-item"><i class="fas fa-shield-alt"></i><span>Compra segura</span></div>
  <div class="trust-item"><i class="fas fa-exchange-alt"></i><span>Cambios y devoluciones</span></div>
  <div class="trust-item"><i class="fab fa-whatsapp"></i><span>Atenci√≥n por WhatsApp</span></div>
</div>

<!-- ‚ïê‚ïê GRID (SE LLENA CON JAVASCRIPT) ‚ïê‚ïê -->
<div class="shop-body">
  <div class="prod-grid" id="prodGrid">
    <div class="empty-msg" id="emptyMsg">
      <i class="fas fa-search"></i>
      No hay productos en esta categor√≠a
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê RESE√ëAS ‚ïê‚ïê -->
<div class="reviews-bar">
  <div class="review-score">
    <span class="score-num">4.9</span>
    <div class="score-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
    <span class="score-count">+120 compradores</span>
  </div>
  <div class="review-cards">
    <div class="review-card">
      <div class="review-card-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <p class="review-card-text">"La campera jean es una pasada, la calidad es excelente y lleg√≥ s√∫per r√°pido. Ya la us√© mil veces."</p>
      <p class="review-card-author">‚Äî Valentina M., C√≥rdoba</p>
    </div>
    <div class="review-card">
      <div class="review-card-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <p class="review-card-text">"Los abanicos son hermosos y √∫nicos. Me llegaron perfectos y con mucho cuidado en el embalaje."</p>
      <p class="review-card-author">‚Äî Luc√≠a T., Buenos Aires</p>
    </div>
    <div class="review-card">
      <div class="review-card-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
      <p class="review-card-text">"Compr√© el conjunto de lino y qued√© enamorado. El talle es perfecto, muy c√≥modo. 100% recomendable."</p>
      <p class="review-card-author">‚Äî Mat√≠as R., Jes√∫s Mar√≠a</p>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê FOOTER ‚ïê‚ïê -->
<footer id="contacto">
  <div>
    <img src="images/logo.png" alt="Bara & Co" class="foot-logo"/>
    <p class="foot-tag">Indumentaria urbana con personalidad. Dise√±o y confort para tu d√≠a a d√≠a.</p>
    <div class="foot-social">
      <i class="fab fa-instagram" onclick="window.open('https://instagram.com/bara.co','_blank')"></i>
      <i class="fab fa-facebook-f"></i>
      <i class="fab fa-tiktok"></i>
    </div>
  </div>
  <div class="foot-col">
    <h4>Categor√≠as</h4>
    <ul>
      <li><a href="#" onclick="filterBy('hombre')">Hombre</a></li>
      <li><a href="#" onclick="filterBy('mujer')">Mujer</a></li>
      <li><a href="#" onclick="filterBy('accesorios')">Accesorios</a></li>
      <li><a href="#" onclick="filterBy('new')">New Collection</a></li>
      <li><a href="#" onclick="filterBy('sale')">Sale</a></li>
    </ul>
  </div>
  <div class="foot-col">
    <h4>Ayuda</h4>
    <ul>
      <li><a href="#">Env√≠os</a></li>
      <li><a href="#">Cambios y devoluciones</a></li>
      <li><a href="#">Preguntas frecuentes</a></li>
      <li><a href="contacto.html">Contacto</a></li>
    </ul>
  </div>
  <div class="foot-col">
    <h4>Newsletter</h4>
    <p style="font-size:13px;color:var(--muted);margin-bottom:12px;">Sumate. 10% OFF en tu primera compra.</p>
    <div class="nl-form">
      <input type="email" placeholder="tu@email.com" id="newsletterEmail"/>
      <button onclick="subscribeNewsletter()"><i class="fas fa-arrow-right"></i></button>
    </div>
    <div class="pay-icons">
      <img src="https://dk0k1i3js6c49.cloudfront.net/applications/logos/payment-icons/mastercard.png" alt="Mastercard"/>
      <img src="https://dk0k1i3js6c49.cloudfront.net/applications/logos/payment-icons/visa.png" alt="Visa"/>
      <img src="https://dk0k1i3js6c49.cloudfront.net/applications/logos/payment-icons/naranja.png" alt="Naranja"/>
      <img src="https://dk0k1i3js6c49.cloudfront.net/applications/logos/payment-icons/cabal.png" alt="Cabal"/>
    </div>
  </div>
</footer>
<div class="foot-bot">
  <span>¬© 2026 Bara & Co ¬∑ Ing. Olmos 139 ‚Äì Jes√∫s Mar√≠a ¬∑ <a href="/cdn-cgi/l/email-protection#e mar">bara.and.co.jm@gmail.com</a></span>
  <div class="foot-links">
    <a href="#">T√©rminos y condiciones</a>
    <a href="#">Pol√≠tica de privacidad</a>
  </div>
</div>

<!-- ‚ïê‚ïê WA FLOAT ‚ïê‚ïê -->
<button class="wa-float" onclick="window.open('https://wa.me/5493525614281?text=Hola!%20Quiero%20consultar%20sobre%20un%20producto','_blank')" title="Consultar por WhatsApp">
  <i class="fab fa-whatsapp"></i>
</button>

<!-- ‚ïê‚ïê GU√çA DE TALLES MODAL ‚ïê‚ïê -->
<div class="qv-backdrop" id="sgBackdrop" onclick="closeSizeGuide()"></div>
<div class="sg-modal" id="sgModal">
  <button class="sg-close" onclick="closeSizeGuide()">√ó</button>
  <h2>Gu√≠a de Talles</h2>
  <h4 style="font-size:11px;letter-spacing:.15em;text-transform:uppercase;color:var(--muted);margin-bottom:12px;">Ropa Hombre</h4>
  <table class="sg-table">
    <thead><tr><th>Talle</th><th>Pecho (cm)</th><th>Cintura (cm)</th><th>Cadera (cm)</th></tr></thead>
    <tbody>
      <tr><td>S</td><td>88‚Äì92</td><td>74‚Äì78</td><td>88‚Äì92</td></tr>
      <tr><td>M</td><td>93‚Äì98</td><td>79‚Äì84</td><td>93‚Äì98</td></tr>
      <tr><td>L</td><td>99‚Äì104</td><td>85‚Äì90</td><td>99‚Äì104</td></tr>
      <tr><td>XL</td><td>105‚Äì112</td><td>91‚Äì98</td><td>105‚Äì112</td></tr>
    </tbody>
  </table>
  <h4 style="font-size:11px;letter-spacing:.15em;text-transform:uppercase;color:var(--muted);margin-bottom:12px;">Ropa Mujer</h4>
  <table class="sg-table">
    <thead><tr><th>Talle</th><th>Pecho (cm)</th><th>Cintura (cm)</th><th>Cadera (cm)</th></tr></thead>
    <tbody>
      <tr><td>XS</td><td>80‚Äì84</td><td>62‚Äì66</td><td>84‚Äì88</td></tr>
      <tr><td>S</td><td>85‚Äì88</td><td>67‚Äì70</td><td>89‚Äì92</td></tr>
      <tr><td>M</td><td>89‚Äì93</td><td>71‚Äì75</td><td>93‚Äì97</td></tr>
      <tr><td>L</td><td>94‚Äì99</td><td>76‚Äì81</td><td>98‚Äì103</td></tr>
    </tbody>
  </table>
</div>

<!-- ‚ïê‚ïê CART TOAST ‚ïê‚ïê -->
<div class="cart-toast" id="cartToast"><i class="fas fa-check-circle"></i> Producto agregado al carrito</div>

<!-- ‚ïê‚ïê CART BACKDROP & DRAWER ‚ïê‚ïê -->
<div class="cart-backdrop" id="cartBackdrop" onclick="toggleCart()"></div>
<div class="cart-drawer" id="cartDrawer">
  <div class="cd-head">
    <h2 class="cd-title">Carrito</h2>
    <button class="cd-close" onclick="toggleCart()">√ó</button>
  </div>
  <div class="cd-body" id="cdBody">
    <div class="cd-empty" id="cdEmpty">Tu carrito est√° vac√≠o</div>
  </div>
  <div class="cd-foot">
    <div class="cd-subtotal"><span>Subtotal</span><span id="cdTotal">$0</span></div>
    <button class="pay-btn pay-mp" onclick="pagarMP()">
      <i class="fab fa-cc-visa"></i> Pagar con MercadoPago
    </button>
    <button class="pay-btn pay-wa" onclick="pagarWA()">
      <i class="fab fa-whatsapp"></i> Solicitar por WhatsApp
    </button>
    <p class="pay-info"><i class="fas fa-lock"></i> &nbsp; Pago seguro</p>
  </div>
</div>

<script>
/* ============================================
   VARIABLES GLOBALES Y ESTADO
============================================ */
let productos = [];           // Todos los productos cargados desde JSON
let cart = JSON.parse(localStorage.getItem('bc_cart') || '[]');
let activeFilter = 'all';

/* ============================================
   CARGA INICIAL DE PRODUCTOS
============================================ */
async function cargarProductos() {
  try {
    const response = await fetch('productos.json?t=' + Date.now());
    if (!response.ok) throw new Error('No se pudo cargar productos.json');
    
    productos = await response.json();
    productos = productos.filter(p => p.activo !== false); // Solo activos
    
    renderizarProductos();
    actualizarContadorProductos();
    
    // Verificar si hay filtro en la URL (?categoria=hombre)
    const urlParams = new URLSearchParams(window.location.search);
    const cat = urlParams.get('categoria');
    if (cat && ['hombre', 'mujer', 'accesorios', 'new', 'sale'].includes(cat)) {
      filterBy(cat);
    }
    
  } catch (error) {
    console.error('Error cargando productos:', error);
    document.getElementById('prodCount').textContent = 'Error al cargar';
  }
}

/* ============================================
   RENDERIZAR PRODUCTOS EN GRILLA
============================================ */
function renderizarProductos() {
  const grid = document.getElementById('prodGrid');
  
  // Agrupar por categor√≠a (para mostrar headings)
  const categorias = ['new', 'hombre', 'mujer', 'accesorios'];
  const nombresCategoria = {
    'new': 'New Collection 2026',
    'hombre': 'Hombre',
    'mujer': 'Mujer',
    'accesorios': 'Accesorios'
  };
  
  let html = '';
  
  categorias.forEach(cat => {
    const productosCat = productos.filter(p => p.categoria === cat);
    if (productosCat.length === 0) return;
    
    // Heading de categor√≠a
    html += `<div class="cat-heading" data-cat-head="${cat}"><h2>${nombresCategoria[cat]}</h2></div>`;
    
    // Productos de esta categor√≠a
    productosCat.forEach(p => {
      const descuento = p.precioAnterior ? Math.round((1 - p.precio / p.precioAnterior) * 100) : 0;
      const categoriasCard = [p.categoria];
      if (p.precioAnterior) categoriasCard.push('sale');
      
      // Formatear precio
      let precioHtml = `$${p.precio.toLocaleString('es-AR')}`;
      if (p.precioAnterior) {
        precioHtml = `<del>$${p.precioAnterior.toLocaleString('es-AR')}</del> $${p.precio.toLocaleString('es-AR')}`;
      }
      
      // Badges
      let badges = '';
      if (p.categoria === 'new') badges += '<span class="badge badge-new">New</span>';
      if (p.precioAnterior) badges += `<span class="badge badge-sale">-${descuento}%</span>`;
      
      html += `
        <div class="prod-card" 
             data-cat="${categoriasCard.join(' ')}" 
             data-id="${p.id}"
             data-nombre="${p.nombre}"
             data-precio="${p.precio}"
             data-imagen="${p.imagen}">
          <div class="prod-img">
            ${badges}
            <img src="${p.imagen}" alt="${p.nombre}" loading="lazy"/>
            <div class="prod-overlay">
              <button class="ov-btn ov-add" onclick="event.stopPropagation();irAProducto('${p.id}')">
                <i class="fas fa-shopping-bag"></i> Ver producto
              </button>
              <button class="ov-btn ov-view" onclick="event.stopPropagation();irAProducto('${p.id}')">
                <i class="fas fa-eye"></i> Ver detalle
              </button>
            </div>
          </div>
          <div class="prod-info">
            <p class="prod-cat">${p.subcategoria || p.categoria}</p>
            <h3 class="prod-name">${p.nombre}</h3>
            <p class="prod-price">${precioHtml}</p>
          </div>
        </div>
      `;
    });
  });
  
  grid.innerHTML = html;
  aplicarFiltro(activeFilter);
}

/* ============================================
   FILTROS
============================================ */
function filterBy(categoria) {
  activeFilter = categoria;
  aplicarFiltro(categoria);
  
  // Actualizar tabs
  document.querySelectorAll('.filter-tab').forEach(tab => {
    tab.classList.toggle('active', tab.dataset.f === categoria);
  });
}

function aplicarFiltro(filtro) {
  const cards = document.querySelectorAll('.prod-card');
  let visibles = 0;
  
  cards.forEach(card => {
    const cats = card.dataset.cat.split(' ');
    const mostrar = filtro === 'all' || cats.includes(filtro);
    card.classList.toggle('hidden', !mostrar);
    if (mostrar) visibles++;
  });
  
  // Mostrar/ocultar headings seg√∫n si tienen productos visibles despu√©s
  document.querySelectorAll('.cat-heading').forEach(head => {
    const cat = head.dataset.catHead;
    let tieneVisibles = false;
    let next = head.nextElementSibling;
    
    while (next && !next.classList.contains('cat-heading')) {
      if (next.classList.contains('prod-card') && !next.classList.contains('hidden')) {
        tieneVisibles = true;
        break;
      }
      next = next.nextElementSibling;
    }
    
    head.classList.toggle('hidden', !tieneVisibles);
  });
  
  // Mostrar mensaje vac√≠o
  const emptyMsg = document.getElementById('emptyMsg');
  emptyMsg.style.display = visibles === 0 ? 'block' : 'none';
  
  actualizarContadorProductos(visibles);
}

function actualizarContadorProductos(visibles = null) {
  const count = document.getElementById('prodCount');
  if (visibles === null) {
    visibles = document.querySelectorAll('.prod-card:not(.hidden)').length;
  }
  count.textContent = visibles + ' producto' + (visibles !== 1 ? 's' : '');
}

/* ============================================
   NAVEGACI√ìN A P√ÅGINA DE PRODUCTO
============================================ */
function irAProducto(id) {
  window.location.href = `producto.html?id=${id}`;
}

/* ============================================
   CARRITO
============================================ */
function saveCart() { 
  localStorage.setItem('bc_cart', JSON.stringify(cart)); 
  renderCart();
}

function toggleCart() {
  document.getElementById('cartDrawer').classList.toggle('open');
  document.getElementById('cartBackdrop').classList.toggle('open');
}

function renderCart() {
  const body = document.getElementById('cdBody');
  const empty = document.getElementById('cdEmpty');
  const badge = document.getElementById('cartBadge');
  const totalEl = document.getElementById('cdTotal');
  
  const cnt = cart.reduce((s,i) => s + i.qty, 0);
  const sum = cart.reduce((s,i) => s + i.precio * i.qty, 0);
  
  badge.textContent = cnt;
  badge.classList.toggle('on', cnt > 0);
  totalEl.textContent = '$' + sum.toLocaleString('es-AR');
  
  // Limpiar items anteriores
  document.querySelectorAll('.cd-item').forEach(el => el.remove());
  
  empty.style.display = cart.length ? 'none' : 'block';
  
  cart.forEach(item => {
    const el = document.createElement('div');
    el.className = 'cd-item';
    el.innerHTML = `
      <img class="cd-item-img" src="${item.imagen}" alt="${item.nombre}"/>
      <div style="flex:1">
        <div class="cd-item-name">${item.nombre}</div>
        ${item.talle ? `<div class="cd-item-size">Talle: ${item.talle}</div>` : ''}
        <div class="cd-item-price">$${(item.precio * item.qty).toLocaleString('es-AR')}</div>
        <div style="font-size:11px;color:var(--muted);margin-top:4px;">Cant: ${item.qty}</div>
      </div>
      <button class="cd-item-rm" onclick="eliminarDelCarrito('${item.id}')">√ó</button>
    `;
    body.appendChild(el);
  });
}

function eliminarDelCarrito(id) {
  cart = cart.filter(i => i.id !== id);
  saveCart();
}

function showToast() {
  const t = document.getElementById('cartToast');
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2400);
}

function pagarWA() {
  if (!cart.length) return;
  const lines = cart.map(i => `‚Ä¢ ${i.nombre}${i.talle ? ' (Talle ' + i.talle + ')' : ''}${i.qty > 1 ? ' x' + i.qty : ''} ‚Äî $${(i.precio * i.qty).toLocaleString('es-AR')}`).join('%0A');
  const total = cart.reduce((s,i) => s + i.precio * i.qty, 0);
  window.open(`https://wa.me/5493525614281?text=Hola!%20Quiero%20hacer%20el%20siguiente%20pedido:%0A${lines}%0A%0ATotal:%20$${total.toLocaleString('es-AR')}`, '_blank');
}

function pagarMP() {
  if (!cart.length) return;
  const total = cart.reduce((s,i) => s + i.precio * i.qty, 0);
  window.open(`https://link.mercadopago.com.ar/baraandco?amount=${total}`, '_blank');
}

/* ============================================
   B√öSQUEDA
============================================ */
function toggleSearch() {
  const bar = document.getElementById('searchBar');
  bar.classList.toggle('open');
  if (bar.classList.contains('open')) {
    document.getElementById('searchInput').focus();
  } else {
    clearSearch();
  }
}

function clearSearch() {
  document.getElementById('searchInput').value = '';
  filterBy(activeFilter);
}

document.getElementById('searchInput')?.addEventListener('input', function() {
  const term = this.value.trim().toLowerCase();
  const cards = document.querySelectorAll('.prod-card');
  let visibles = 0;
  
  cards.forEach(card => {
    const nombre = card.dataset.nombre?.toLowerCase() || '';
    const coincide = term === '' || nombre.includes(term);
    card.classList.toggle('hidden', !coincide);
    if (coincide) visibles++;
  });
  
  document.querySelectorAll('.cat-heading').forEach(head => {
    let tieneVisibles = false;
    let next = head.nextElementSibling;
    while (next && !next.classList.contains('cat-heading')) {
      if (next.classList.contains('prod-card') && !next.classList.contains('hidden')) {
        tieneVisibles = true;
        break;
      }
      next = next.nextElementSibling;
    }
    head.classList.toggle('hidden', !tieneVisibles);
  });
  
  document.getElementById('emptyMsg').style.display = visibles === 0 ? 'block' : 'none';
  actualizarContadorProductos(visibles);
});

/* ============================================
   GU√çA DE TALLES
============================================ */
function openSizeGuide() {
  document.getElementById('sgModal').classList.add('open');
  document.getElementById('sgBackdrop').classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeSizeGuide() {
  document.getElementById('sgModal').classList.remove('open');
  document.getElementById('sgBackdrop').classList.remove('open');
  document.body.style.overflow = '';
}

/* ============================================
   MEN√ö M√ìVIL
============================================ */
function toggleMenu() {
  const h = document.getElementById('hamburger');
  const n = document.getElementById('mobileNav');
  h.classList.toggle('open');
  n.classList.toggle('open');
}

/* ============================================
   NEWSLETTER
============================================ */
function subscribeNewsletter() {
  const email = document.getElementById('newsletterEmail').value.trim();
  if (!email || !email.includes('@')) {
    alert('Ingres√° un email v√°lido');
    return;
  }
  alert('¬°Gracias! Te enviamos el 10% OFF a ' + email);
  document.getElementById('newsletterEmail').value = '';
}

/* ============================================
   INICIALIZACI√ìN
============================================ */
document.addEventListener('DOMContentLoaded', () => {
  cargarProductos();
  renderCart();
  
  // Configurar eventos de filtros
  document.querySelectorAll('.filter-tab').forEach(tab => {
    tab.addEventListener('click', () => filterBy(tab.dataset.f));
  });
  
  // Cerrar modales con Escape
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      closeSizeGuide();
      if (document.getElementById('cartDrawer').classList.contains('open')) {
        toggleCart();
      }
    }
  });
});
</script>
</body>
</html>
